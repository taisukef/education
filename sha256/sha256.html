<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>SHA-256</title>
    <script src="./sha256.js"></script>
    <script src="./TestSha256Short.js"></script>
    <script src="./TestSha256Long.js"></script>
    <script>
        function init() {
            let result = test(TEST_VECTOR_SHA256_SHORT);
            console.log("TEST_VECTOR_SHA256_SHORT", result);
            result = test(TEST_VECTOR_SHA256_LONG);
            console.log("TEST_VECTOR_SHA256_SHORT", result);
        }
        function test(tv) {
            for (let i = 0; i < tv.length; i += 2) {
                let msg = [];
                if (tv[i].Len > 0) {
                    for (let j = 0; j < tv[i].Msg.length; j += 2) {
                        msg[j / 2] = parseInt(tv[i].Msg.substr(j, 2), 16);
                    }
                }
                let hash = compute(padding(msg));
                let hs = hash2str(hash);
                if (!(hs == tv[i].MD)) {
                    return false;
                }
            }
            return true;
        }
        window.addEventListener("load", init);
    </script>
</head>

<body>

</body>

</html>